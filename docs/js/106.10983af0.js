"use strict";(self["webpackChunktodos"]=self["webpackChunktodos"]||[]).push([[106],{7106:function(t,e,o){o.r(e),o.d(e,{default:function(){return Ct}});var a,s,l=o(3396),i=o(7139),d=o(4870),n=(o(7658),o(2578));(function(t){t["ALL"]="All",t["ACTIVE"]="Active",t["DONE"]="Done"})(a||(a={})),function(t){t[t["MILLISECONDS_PER_DAY"]=864e5]="MILLISECONDS_PER_DAY"}(s||(s={}));const r=(0,n.Q_)("todos",(()=>{const t=(0,d.iH)([]),e=(0,d.iH)(a.ALL),o=(0,d.iH)(!0),i=(0,d.iH)(null),n=(0,d.iH)({isEditing:!1,id:null}),r=t=>t.date>(0,d.SU)(i)&&t.date<(0,d.SU)(i)+s.MILLISECONDS_PER_DAY,c=(0,l.Fl)((()=>(0,d.SU)(t).filter((t=>t.completed)))),u=(0,l.Fl)((()=>(0,d.SU)(t).filter((t=>!t.completed)))),_=(0,l.Fl)((()=>(0,d.SU)(t).filter(r))),v=(0,l.Fl)((()=>(0,d.SU)(u).filter(r))),S=(0,l.Fl)((()=>(0,d.SU)(c).filter(r))),m=(0,l.Fl)((()=>{switch((0,d.SU)(e)){case a.DONE:return(0,d.SU)(i)?(0,d.SU)(S):(0,d.SU)(c);case a.ACTIVE:return(0,d.SU)(i)?(0,d.SU)(v):(0,d.SU)(u);case a.ALL:default:return(0,d.SU)(i)?(0,d.SU)(_):(0,d.SU)(t)}})),U=(0,l.Fl)((()=>({active:(0,d.SU)(i)?(0,d.SU)(v).length:(0,d.SU)(u).length,done:(0,d.SU)(i)?(0,d.SU)(S).length:(0,d.SU)(c).length}))),f=t=>{i.value=t?new Date(t.toDateString()).getTime():null},p=()=>{(0,d.SU)(o)?t.value.sort(((t,e)=>t.date-e.date)):t.value.sort(((t,e)=>e.date-t.date))},b=()=>{o.value=!(0,d.SU)(o),p()},g=()=>{n.value.isEditing=!1,n.value.id=null},k=t=>{e.value=t,g()},D=e=>{t.value=(0,d.SU)(t).filter((t=>t.id!==e))},y=e=>{(0,d.SU)(t).push(e)},w=e=>{const o=(0,d.SU)(t).find((t=>t.id===e));o&&(o.completed=!o.completed)},T=t=>{n.value.isEditing=!0,n.value.id=t},F=(e,o,a)=>{const s=(0,d.SU)(t).find((t=>t.id===e));s&&(s.text=o,s.date=a.getTime()),g()},E=()=>{e.value=a.ALL,i.value=null},C=localStorage.getItem("todos");return C&&(t.value=JSON.parse(C)._value,p()),(0,l.YP)((()=>t),(t=>{localStorage.setItem("todos",JSON.stringify(t)),p()}),{deep:!0}),{todos:t,activeFilter:e,isSortEarlyFirst:o,filteredDate:i,editableTodo:n,filteredTodos:m,stats:U,setFilteredDate:f,toggleSortOrder:b,setFilter:k,removeTodo:D,addTodo:y,editTodo:T,toggleTodo:w,cancelEditTodo:g,saveEditedTodo:F,resetFilters:E}})),c=["onClick"];var u=(0,l.aZ)({__name:"TodosFilterByActivity",setup(t){const e=r(),{activeFilter:o,editableTodo:s}=(0,n.Jk)(e),{setFilter:u}=e,_=[a.ALL,a.ACTIVE,a.DONE],v=t=>({"button--primary":(0,d.SU)(o)===t}),S=(0,l.Fl)((()=>({"todos-filter-by-activity--disabled":(0,d.SU)(s).isEditing})));return(t,e)=>((0,l.wg)(),(0,l.iD)("aside",{class:(0,i.C_)(["todos-filter-by-activity",S.value])},[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(_,((t,e)=>(0,l._)("button",{key:`${t}-${e}`,onClick:e=>(0,d.SU)(u)(t),class:(0,i.C_)(["todos-filter-by-activity__button button",v(t)])},(0,i.zw)(t),11,c))),64))],2))}}),_=o(89);const v=(0,_.Z)(u,[["__scopeId","data-v-74483d9b"]]);var S=v,m=o(9242);const U=()=>{const t=t=>{const e=(0,l.Fl)((()=>(0,d.SU)(t).getDate().toString())),o=(0,l.Fl)((()=>((0,d.SU)(t).getMonth()+1).toString())),a=(0,l.Fl)((()=>(0,d.SU)(t).getFullYear().toString().slice(2))),s=(0,l.Fl)((()=>`${(0,d.SU)(e)}.${(0,d.SU)(o)}.${(0,d.SU)(a)}`));return{day:e,month:o,year:a,formatDatepicker:s}},e=t=>!(t.trim().length<10);return{parseDate:t,validatesText:e}},f=t=>((0,l.dD)("data-v-11a9d950"),t=t(),(0,l.Cn)(),t),p=["onClick"],b=f((()=>(0,l._)("div",{class:"todos-list-item__status"},[(0,l._)("i",{class:"bi bi-check2"})],-1))),g={class:"todos-list-item__content"},k={class:"todos-list-item__text"},D={class:"todos-list-item__date"},y={key:0,class:"todos-list-item__error"},w={class:"todos-list-item__buttons"},T=f((()=>(0,l._)("i",{class:"bi bi-pencil"},null,-1))),F=[T],E=f((()=>(0,l._)("i",{class:"bi bi-trash3"},null,-1))),C=[E],h=["onClick"],I=f((()=>(0,l._)("i",{class:"bi bi-floppy"},null,-1))),L=[I],A=["onClick"],H=f((()=>(0,l._)("i",{class:"bi bi-x-lg"},null,-1))),V=[H];var x=(0,l.aZ)({__name:"TodosListItem",props:{todo:{type:Object,required:!0}},setup(t){const e=t,{todo:o}=(0,d.BK)(e),{parseDate:a,validatesText:s}=U(),c=r(),{editableTodo:u}=(0,n.Jk)(c),{toggleTodo:_,removeTodo:v,editTodo:S,saveEditedTodo:f,cancelEditTodo:T}=c;let E=new Date(o.value.date);const I=(0,d.iH)((0,d.SU)(o).text),H=(0,d.iH)(E),x=(0,d.iH)(!1),{day:Z,month:O,year:P,formatDatepicker:N}=a(H),Y=(0,l.Fl)((()=>(0,d.SU)(u).isEditing&&(0,d.SU)(u).id===(0,d.SU)(o).id)),J=(0,l.Fl)((()=>({"todos-list-item--done":(0,d.SU)(o).completed&&!(0,d.SU)(Y),"todos-list-item--disabled":(0,d.SU)(u).isEditing&&(0,d.SU)(u).id!==(0,d.SU)(o).id,"todos-list-item--editing":(0,d.SU)(Y)}))),M=()=>{(0,d.SU)(u).isEditing||_((0,d.SU)(o).id)},W=()=>{s((0,d.SU)(I))?(f((0,d.SU)(o).id,(0,d.SU)(I),(0,d.SU)(H)),x.value=!1,E=(0,d.SU)(H)):x.value=!0},z=()=>{T(),I.value=(0,d.SU)(o).text,H.value=E,x.value=!1};return(0,l.Jd)((()=>{(0,d.SU)(Y)&&T()})),(t,e)=>{const a=(0,l.up)("VueDatePicker"),s=(0,l.Q2)("autofocus");return(0,l.wg)(),(0,l.iD)("li",{class:(0,i.C_)(["todos-list-item",J.value])},[(0,l._)("button",{onClick:(0,m.iM)(M,["stop"]),type:"button",class:"todos-list-item__button"},[b,(0,l._)("div",g,[(0,l._)("div",k,[(0,l.Uk)((0,i.zw)((0,d.SU)(o).text)+" ",1),Y.value?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:0,"onUpdate:modelValue":e[0]||(e[0]=t=>I.value=t),class:"todos-list-item__textarea"},null,512)),[[s],[m.nr,I.value]]):(0,l.kq)("",!0)]),(0,l._)("div",D,[Y.value?((0,l.wg)(),(0,l.j4)(a,{key:1,modelValue:H.value,"onUpdate:modelValue":e[1]||(e[1]=t=>H.value=t),enableTimePicker:!1,clearable:!1,minDate:new Date,format:(0,d.SU)(N),class:"todos-list-item__datepicker"},null,8,["modelValue","minDate","format"])):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,i.zw)((0,d.SU)(Z))+"."+(0,i.zw)((0,d.SU)(O))+"."+(0,i.zw)((0,d.SU)(P)),1)],64))]),x.value?((0,l.wg)(),(0,l.iD)("div",y," The length of the task must exceed 10 characters ")):(0,l.kq)("",!0)]),(0,l._)("div",w,[Y.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("button",{onClick:(0,m.iM)(W,["stop"]),type:"button",class:"todos-list-item__save"},L,8,h),(0,l._)("button",{onClick:(0,m.iM)(z,["stop"]),type:"button",class:"todos-list-item__cancel"},V,8,A)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,d.SU)(o).completed?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[2]||(e[2]=(0,m.iM)((t=>(0,d.SU)(S)((0,d.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__edit"},F)),(0,l._)("button",{onClick:e[3]||(e[3]=(0,m.iM)((t=>(0,d.SU)(v)((0,d.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__remove"},C)],64))])],8,p)],2)}}});const Z=(0,_.Z)(x,[["__scopeId","data-v-11a9d950"]]);var O=Z;const P={class:"todos-list"},N={key:0,class:"todos-list__items"},Y={key:1};var J=(0,l.aZ)({__name:"TodosList",setup(t){const{filteredTodos:e,activeFilter:o}=(0,n.Jk)(r()),s=(0,l.Fl)((()=>{switch((0,d.SU)(o)){case a.DONE:return"No completed any tasks";case a.ACTIVE:return"No active tasks";case a.ALL:default:return"There are no tasks"}}));return(t,o)=>((0,l.wg)(),(0,l.iD)("div",P,[(0,d.SU)(e).length?((0,l.wg)(),(0,l.iD)("ul",N,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,d.SU)(e),(t=>((0,l.wg)(),(0,l.j4)(O,{key:t.id,todo:t},null,8,["todo"])))),128))])):((0,l.wg)(),(0,l.iD)("span",Y,(0,i.zw)(s.value),1))]))}});const M=(0,_.Z)(J,[["__scopeId","data-v-93cf8704"]]);var W=M;const z=t=>((0,l.dD)("data-v-37e61c9c"),t=t(),(0,l.Cn)(),t),$=["onSubmit"],q=z((()=>(0,l._)("span",{class:"todos-form-add__title"}," Enter the task text ",-1))),j=z((()=>(0,l._)("i",{class:"bi bi-x-lg"},null,-1))),B=[j],K={class:"todos-form-add__input-container"},Q={class:"todos-form-add__input todos-form-add__input--focus"},R={key:0,class:"todos-form-add__error"},G=z((()=>(0,l._)("button",{class:"button button--filled"}," Add task ",-1))),X=z((()=>(0,l._)("i",{class:"bi bi-plus-lg"},null,-1))),tt=[X];var et=(0,l.aZ)({__name:"TodosFormAdd",setup(t){const{parseDate:e,validatesText:o}=U(),a=r(),{editableTodo:s}=(0,n.Jk)(a),{addTodo:c,cancelEditTodo:u,resetFilters:_}=a,v=(0,d.iH)(!1),S=(0,d.iH)(!1),f=(0,d.iH)(""),p=new Date,b=(0,d.iH)(p),{formatDatepicker:g}=e(b),k=(0,l.Fl)((()=>(0,d.SU)(v)&&!(0,d.SU)(s).isEditing)),D=(0,l.Fl)((()=>({"todos-form-add--disabled":(0,d.SU)(s).isEditing}))),y=()=>{v.value=!0,u()},w=()=>{v.value=!1},T=()=>{o((0,d.SU)(f))?(c({id:Date.now(),text:f.value,completed:!1,date:b.value.getTime()}),S.value=!1,f.value="",w(),_()):S.value=!0};return(t,e)=>{const o=(0,l.up)("VueDatePicker"),a=(0,l.Q2)("autofocus");return(0,l.wg)(),(0,l.iD)("section",{class:(0,i.C_)(["todos-form-add",D.value])},[k.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:(0,m.iM)(T,["prevent"]),class:"todos-form-add__form"},[(0,l._)("div",{class:"todos-form-add__header"},[q,(0,l._)("button",{onClick:w,type:"button",class:"todos-form-add__close"},B)]),(0,l._)("div",K,[(0,l._)("div",Q,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t)},null,512),[[a],[m.nr,f.value]])]),(0,l.Wm)(o,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=t=>b.value=t),enableTimePicker:!1,minDate:(0,d.SU)(p),format:(0,d.SU)(g),clearable:!1,class:"todos-form-add__datepicker"},null,8,["modelValue","minDate","format"]),S.value?((0,l.wg)(),(0,l.iD)("div",R," The length of the task must exceed 10 characters ")):(0,l.kq)("",!0)]),G],40,$)):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:y,class:"todos-form-add__show-form"},tt))],2)}}});const ot=(0,_.Z)(et,[["__scopeId","data-v-37e61c9c"]]);var at=ot;const st={class:"todos-footer"};var lt=(0,l.aZ)({__name:"TodosFooter",setup(t){const{stats:e}=(0,n.Jk)(r());return(t,o)=>((0,l.wg)(),(0,l.iD)("footer",st,(0,i.zw)((0,d.SU)(e).active)+" more to do, "+(0,i.zw)((0,d.SU)(e).done)+" done ",1))}});const it=(0,_.Z)(lt,[["__scopeId","data-v-11f27240"]]);var dt=it;const nt={class:"layout-default"},rt={class:"layout-default__filters"},ct={class:"layout-default__main"},ut={class:"layout-default__footer"};function _t(t,e){return(0,l.wg)(),(0,l.iD)("div",nt,[(0,l._)("aside",rt,[(0,l.WI)(t.$slots,"filters",{},void 0,!0)]),(0,l._)("main",ct,[(0,l.WI)(t.$slots,"default",{},void 0,!0)]),(0,l._)("div",ut,[(0,l.WI)(t.$slots,"footer",{},void 0,!0)])])}const vt={},St=(0,_.Z)(vt,[["render",_t],["__scopeId","data-v-1685cf41"]]);var mt=St;const Ut={key:0,class:"bi bi-sort-down-alt"},ft={key:1,class:"bi bi-sort-up-alt"};var pt=(0,l.aZ)({__name:"TodosSortBtn",setup(t){const e=r(),{isSortEarlyFirst:o,editableTodo:a}=(0,n.Jk)(e),{toggleSortOrder:s}=e,c=(0,l.Fl)((()=>({"todos-sort-btn--disabled":(0,d.SU)(a).isEditing})));return(t,e)=>((0,l.wg)(),(0,l.iD)("button",{onClick:e[0]||(e[0]=(...t)=>(0,d.SU)(s)&&(0,d.SU)(s)(...t)),type:"button",class:(0,i.C_)(["todos-sort-btn",c.value])},[(0,d.SU)(o)?((0,l.wg)(),(0,l.iD)("i",Ut)):((0,l.wg)(),(0,l.iD)("i",ft))],2))}});const bt=(0,_.Z)(pt,[["__scopeId","data-v-6a0afd61"]]);var gt=bt;const kt={key:0,class:"bi bi-x-lg"},Dt={key:1,class:"bi bi-funnel"};var yt=(0,l.aZ)({__name:"TodosFilterByDate",setup(t){const{parseDate:e}=U(),o=r(),{filteredDate:a,editableTodo:s}=(0,n.Jk)(o),{setFilteredDate:c}=o,u=(0,d.iH)(new Date),{formatDatepicker:_}=e(u),v=(0,l.Fl)((()=>({"todos-filter-by-date--disabled":(0,d.SU)(s).isEditing}))),S=()=>{if((0,d.SU)(a))return c(null),void(u.value=new Date);c((0,d.SU)(u))};return(0,l.YP)((()=>u.value),(()=>{(0,d.SU)(a)&&c((0,d.SU)(u))})),(t,e)=>{const o=(0,l.up)("VueDatePicker");return(0,l.wg)(),(0,l.iD)("div",{class:(0,i.C_)(["todos-filter-by-date",v.value])},[(0,d.SU)(a)?((0,l.wg)(),(0,l.j4)(o,{key:0,modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),enableTimePicker:!1,format:(0,d.SU)(_),clearable:!1,class:"todos-filter-by-date__datepicker"},null,8,["modelValue","format"])):(0,l.kq)("",!0),(0,l._)("button",{onClick:S,type:"button",class:"todos-filter-by-date__button"},[(0,d.SU)(a)?((0,l.wg)(),(0,l.iD)("i",kt)):((0,l.wg)(),(0,l.iD)("i",Dt))])],2)}}});const wt=(0,_.Z)(yt,[["__scopeId","data-v-c1e231f4"]]);var Tt=wt,Ft=(0,l.aZ)({__name:"TodosPage",setup(t){return(t,e)=>((0,l.wg)(),(0,l.j4)(mt,{class:"todos-page"},{filters:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"todos-page__filter-activity"}),(0,l.Wm)(Tt,{class:"todos-page__filter-date"}),(0,l.Wm)(gt,{class:"todos-page__sort"})])),footer:(0,l.w5)((()=>[(0,l.Wm)(dt)])),default:(0,l.w5)((()=>[(0,l.Wm)(W),(0,l.Wm)(at)])),_:1}))}});const Et=(0,_.Z)(Ft,[["__scopeId","data-v-d64d0ffc"]]);var Ct=Et}}]);
//# sourceMappingURL=106.10983af0.js.map